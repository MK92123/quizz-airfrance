<!--
  A simple interactive quiz about Air France AVIH procedures.
  This HTML file contains embedded JavaScript to present questions,
  evaluate the selected answer, display immediate feedback and then
  navigate to the next question without repeating the evaluation.
  To use the quiz, open this file in a web browser.
-->
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Quiz Air France</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      background-color: #f5f5f5;
      color: #222;
    }
    .quiz-container {
      background: #fff;
      border-radius: 8px;
      padding: 1.5rem;
      max-width: 600px;
      margin: 0 auto;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      margin-bottom: 1rem;
    }
    .question {
      font-weight: bold;
      margin-bottom: 1rem;
    }
    .options {
      list-style: none;
      padding: 0;
    }
    .options li {
      margin-bottom: 0.5rem;
    }
    .feedback {
      margin-top: 1rem;
      padding: 0.5rem;
      border-radius: 4px;
      display: none;
    }
    .feedback.correct {
      background-color: #dff0d8;
      color: #3c763d;
    }
    .feedback.incorrect {
      background-color: #f2dede;
      color: #a94442;
    }
    .nav-buttons {
      margin-top: 1rem;
      display: flex;
      justify-content: space-between;
    }
    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    #resetBtn {
      background-color: #6c757d;
      color: #fff;
    }
    #nextBtn {
      background-color: #007bff;
      color: #fff;
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h1>Quiz Air France</h1>
    <div id="quiz"></div>
    <div class="nav-buttons">
      <button id="resetBtn" onclick="resetQuiz()">Recommencer</button>
      <button id="nextBtn" onclick="nextQuestion()" disabled>Suivant</button>
    </div>
  </div>

  <script>
    /**
     * Liste des questions du quiz. Chaque élément comprend le texte de la
     * question, un tableau d'options, l'index de la bonne réponse et
     * un texte explicatif qui s'affiche en cas de bonne réponse.
     */
    const questions = [
      // Questions issues de la politique AVIH
      {
        text: "À partir de quel poids un chien ou un chat (caisse incluse) doit‑il obligatoirement voyager en soute (AVIH) sur un vol Air France ?",
        options: [
          "Dès qu’il dépasse 6 kg",
          "Dès qu’il dépasse 8 kg",
          "Dès qu’il dépasse 75 kg"
        ],
        correct: 1,
        explanation: "Un animal pesant plus de 8 kg (et jusqu’à 75 kg maximum) doit voyager en soute."
      },
      {
        text: "Quel est l’âge minimum d’un chat ou d’un chien pour pouvoir voyager en soute avec Air France ?",
        options: [
          "8 semaines",
          "10 semaines",
          "15 semaines"
        ],
        correct: 2,
        explanation: "Les animaux doivent avoir au moins 15 semaines et être vaccinés pour être acceptés."
      },
      {
        text: "Quels matériaux sont obligatoires pour une caisse de transport en soute ?",
        options: [
          "En bois ou en métal",
          "En fibre de verre ou plastique rigide et fixée avec des boulons",
          "En tissu souple"
        ],
        correct: 1,
        explanation: "La caisse doit être en fibre de verre ou plastique rigide et maintenue par des boulons."
      },
      {
        text: "Combien d’animaux un passager peut‑il enregistrer en soute (AVIH) sur un vol Air France (dans la limite des quotas) ?",
        options: [
          "1 animal",
          "2 animaux",
          "3 animaux"
        ],
        correct: 2,
        explanation: "Jusqu’à trois animaux peuvent être réservés en soute par passager."
      },
      {
        text: "Les races brachycéphales (chien au nez retroussé) peuvent‑elles être transportées en soute ?",
        options: [
          "Oui, sans restriction",
          "Oui, si l’animal pèse moins de 10 kg",
          "Non, ces races sont interdites en soute"
        ],
        correct: 2,
        explanation: "Air France n’accepte pas les chiens et chats brachycéphales comme bagage accompagné en soute."
      },
      {
        text: "Les chiens de 1re catégorie (ex. pit‑bulls, mastiffs, tosas) sont‑ils acceptés en soute ?",
        options: [
          "Oui",
          "Oui, seulement avec un certificat LOF",
          "Non, ils sont interdits de transport"
        ],
        correct: 2,
        explanation: "Les chiens de 1re catégorie sont totalement interdits chez Air France."
      },
      {
        text: "Que faut‑il faire si un client se présente à l’enregistrement sans réservation AVIH (après le 1ᵉʳ avril 2025) ?",
        options: [
          "Refuser systématiquement l’embarquement de l’animal",
          "Ajouter le service \"AVIH\" dans Altéa, vérifier la disponibilité du quota puis contacter le manager CLD et envoyer un télex \"AVIH\"",
          "Faire payer un supplément et laisser embarquer"
        ],
        correct: 1,
        explanation: "Depuis le 1ᵉʳ avril 2025, la réservation AVIH est obligatoire jusqu’à H‑24 ; si un client arrive sans réservation, il faut créer le service AVIH dans Altéa, vérifier le quota, appeler le manager opérationnel du CLD et envoyer un télex."
      },
      {
        text: "Dans quelles conditions un Staffordshire Bull Terrier LOF peut‑il voyager sur un vol commercial Air France ?",
        options: [
          "Il est interdit sur les vols commerciaux",
          "Il est autorisé en soute avec une cage conforme et les documents nécessaires",
          "Il est autorisé uniquement en cabine"
        ],
        correct: 1,
        explanation: "Contrairement aux autres chiens de catégorie 1, le Staffordshire Bull Terrier inscrit au LOF peut voyager en soute avec une cage homologuée."
      },
      // Questions extraites du quiz de connaissances Air France
      {
        text: "Que devez‑vous faire si un passager ‘selectee’ n’a pas été détecté à l’enregistrement pour un vol à destination de Tel Aviv ?",
        options: [
          "L’autoriser à embarquer sans autre formalité",
          "Informer immédiatement l’équipe embarquement pour une inspection filtrage complémentaire",
          "L’inviter à retourner en zone d’enregistrement"
        ],
        correct: 1,
        explanation: "Le client doit être présenté à l’équipe d’embarquement afin d’effectuer un contrôle de sécurité complémentaire."
      },
      {
        text: "Lors du traitement de mineurs non accompagnés (UMNR), que doit faire le personnel sol s’il observe un comportement inhabituel chez l’enfant ou l’adulte l’accompagnant ?",
        options: [
          "Continuer la procédure normalement",
          "Signaler l’incident suspect à son Manager et informer les autorités locales",
          "Ignorer le comportement"
        ],
        correct: 1,
        explanation: "En cas de comportement inhabituel d’un mineur ou de l’adulte accompagnant, le personnel doit alerter le manager et les autorités."
      },
      {
        text: "La recharge de la e‑cigarette est‑elle autorisée à bord de nos avions ?",
        options: [
          "Oui",
          "Non"
        ],
        correct: 1,
        explanation: "La recharge d’une cigarette électronique est interdite en vol."
      },
      {
        text: "Les batteries externes (POWER‑BANK) sont‑elles autorisées dans les coffres à bagages à bord de nos avions ?",
        options: [
          "Oui",
          "Non"
        ],
        correct: 1,
        explanation: "Les batteries doivent être conservées en cabine et sous surveillance, elles ne doivent pas être stockées dans les coffres à bagages."
      },
      {
        text: "En zone d’enregistrement, puis‑je émettre une carte d’embarquement pour un client à destination de Tel Aviv sans que le client soit passé devant un agent Securitas pour contrôle ?",
        options: [
          "Oui",
          "Non"
        ],
        correct: 1,
        explanation: "Le contrôle Securitas est obligatoire avant l’émission d’une carte d’embarquement pour les vols à destination de Tel Aviv."
      },
      {
        text: "Quel chapitre du PAM fait référence aux traitements des clients au comportement indiscipliné ?",
        options: [
          "Chapitre 6.5",
          "Chapitre 6.9",
          "Chapitre 6.12"
        ],
        correct: 0,
        explanation: "La section 6.5 du PAM décrit la prise en charge des passagers au comportement indiscipliné."
      },
      {
        text: "Dans quel chapitre du PAM pouvez‑vous trouver la Matrice de Réacheminement ?",
        options: [
          "4.1.6.3",
          "4.1.6.4",
          "4.1.6.5"
        ],
        correct: 1,
        explanation: "La Matrice de Réacheminement figure dans la section 4.1.6.4 du PAM."
      },
      {
        text: "La tolérance pool bag Africa est possible :",
        options: [
          "Sur tous les vols",
          "Uniquement sur les vols Afrique de la zone 12‑13, sinon c’est du waive empowerment"
        ],
        correct: 1,
        explanation: "Cette tolérance s’applique uniquement sur les vols desservant l’Afrique zone 12‑13 ; autrement il faut une dérogation."
      },
      {
        text: "En salle de livraison des bagages, dans quelle situation doit être affichée l’affiche « Marchandises dangereuses, articles prohibés et réglementés » ?",
        options: [
          "Lorsque le client récupère son bagage",
          "Lorsque le client déclare un bagage manquant ou endommagé",
          "Lorsque le client récupère son bagage avant de s’enregistrer pour le vol suivant au comptoir dédié"
        ],
        correct: 2,
        explanation: "L’affiche doit être visible au comptoir dédié lorsqu’un passager récupère un bagage pour se réenregistrer sur un vol suivant."
      },
      {
        text: "À quel moment les clients peuvent‑ils récupérer leur poussette à l’arrivée ?",
        options: [
          "À la sortie de l’avion",
          "Sur le tapis de livraison bagage à destination finale ou au comptoir des bagages spéciaux",
          "À l’escale de correspondance"
        ],
        correct: 1,
        explanation: "Les poussettes enregistrées en soute sont restituées au carrousel à bagages ou au comptoir des bagages hors‑format à la destination finale."
      }
    ];

    let currentIndex = 0;
    let answered = false;
    let score = 0; // compteur de bonnes réponses

    /**
     * Affiche la question en cours ainsi que ses options. Réinitialise
     * l'état de la zone de feedback et désactive le bouton "Suivant" jusqu'à
     * ce qu'une réponse soit donnée.
     */
    function showQuestion() {
      const quizDiv = document.getElementById('quiz');
      const q = questions[currentIndex];
      // Construction du HTML pour la question et ses options
      let html = `<div class="question">${q.text}</div><ul class="options">`;
      q.options.forEach((opt, idx) => {
        html += `<li><label><input type="radio" name="option" value="${idx}" onclick="selectAnswer(${idx})"> ${opt}</label></li>`;
      });
      html += '</ul>';
      html += '<div id="feedback" class="feedback"></div>';
      quizDiv.innerHTML = html;
      // Réinitialise l'état
      answered = false;
      document.getElementById('nextBtn').disabled = true;
    }

    /**
     * Traite la sélection d'une réponse. Affiche un message de feedback et
     * active le bouton "Suivant". L'événement est géré une seule fois par
     * question afin d'éviter qu'un clic sur "Suivant" n'affiche un message
     * supplémentaire.
     *
     * @param {number} selectedIndex L'index de l'option sélectionnée.
     */
    function selectAnswer(selectedIndex) {
      if (answered) return; // ignore les sélections supplémentaires
      answered = true;
      const q = questions[currentIndex];
      const feedback = document.getElementById('feedback');
      if (selectedIndex === q.correct) {
        score++;
        feedback.className = 'feedback correct';
        feedback.textContent = `Bonne réponse : ${q.explanation}`;
      } else {
        feedback.className = 'feedback incorrect';
        feedback.textContent = 'Mauvaise réponse. ' +
          `La bonne réponse est : ${q.options[q.correct]}.`;
      }
      feedback.style.display = 'block';
      document.getElementById('nextBtn').disabled = false;
    }

    /**
     * Affiche la question suivante ou un message final lorsque toutes
     * les questions ont été parcourues.
     */
    function nextQuestion() {
      if (!answered) {
        alert('Veuillez sélectionner une réponse avant de passer à la question suivante.');
        return;
      }
      currentIndex++;
      if (currentIndex < questions.length) {
        showQuestion();
      } else {
        showResults();
      }
    }

    /**
     * Réinitialise le quiz pour recommencer depuis la première question.
     */
    function resetQuiz() {
      currentIndex = 0;
      score = 0;
      showQuestion();
    }

    /**
     * Affiche un message de fin lorsque toutes les questions ont été traitées.
     */
    function showResults() {
      const quizDiv = document.getElementById('quiz');
      // Affiche le score final et un message de conclusion
      const total = questions.length;
      quizDiv.innerHTML = `<p>Vous avez terminé le quiz !</p>` +
        `<p>Votre score : <strong>${score} / ${total}</strong>.</p>` +
        `<p>Vous pouvez cliquer sur « Recommencer » pour rejouer et améliorer votre score.</p>`;
      document.getElementById('nextBtn').disabled = true;
    }

    // Démarrer le quiz dès le chargement de la page
    window.onload = showQuestion;
  </script>
</body>
</html>
